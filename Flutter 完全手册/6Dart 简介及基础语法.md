# Dart ç®€ä»‹åŠåŸºç¡€è¯­æ³•

å› ä¸º Flutter æ˜¯ä½¿ç”¨ Dart è¯­è¨€å¼€å‘çš„ï¼Œæ‰€ä»¥åœ¨å¼€å§‹ Flutter ä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹ Dartã€‚

## Dart ç®€ä»‹
Dart æ˜¯ Google å¼€å‘çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥ç”¨äº ç§»åŠ¨ç«¯ã€PC ç«¯ã€WEBã€æœåŠ¡å™¨çš„å¼€å‘ï¼Œæ˜¯å…¨æ ˆå¼ç¼–ç¨‹è¯­è¨€ã€‚è™½ç„¶è¯­è¨€éƒ½æ˜¯ Dart ï¼Œä½†åœ¨æ¯ä¸ªå¹³å°ä¸Šä½¿ç”¨çš„æ¡†æ¶ä¸ä¸€æ ·ï¼Œä¾‹å¦‚åœ¨ Flutter ä¸Šä½¿ç”¨çš„ Dart for the Flutterï¼Œåœ¨ Web ç«¯ä½¿ç”¨çš„æ˜¯ Dart for the webï¼Œåœ¨æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯ Server-side Dartï¼š
| å¹³å° | å¼€å‘è¯­è¨€ | æ¡†æ¶ |
| -- | -- | -- |
| Flutter(Android/iOS/Linux/MacOS/Windows/Web) | Dart | Dart for the Flutter |
| Web | Dart | Dart for the web |
| æœåŠ¡å™¨ | Dart | Server-side Dart |

## Dart çš„å†å²

* 2011.10 ï¼šDart è¯­è¨€å‘å¸ƒ
* 2013.10 ï¼šDart 1.0
* 2018.8  ï¼šDart 2.0
* 2018.12 ï¼šDart 2.1
* 2019.2.27 ï¼šDart 2.2
* 2019.4.21 ï¼šDart 2.3

å¯èƒ½ä½ æ˜¯åœ¨å¬è¯´äº† Flutter ä¹‹åï¼Œæ‰å¼€å§‹æ¥è§¦ Dart è¯­è¨€ï¼Œä½†æ˜¯ Dart è¯­è¨€å·²ç»å­˜åœ¨å¹¶å‘å±•å¾ˆä¹…äº†ï¼ŒDart æ—©åœ¨ 2011 å¹´å°±å‘å¸ƒäº†ï¼Œç°åœ¨ Dart çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ 2.3 ã€‚

## Dart è¯­è¨€ä¼˜åŠ¿

* Dart ä¸­çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°å­—ã€å‡½æ•°ç­‰ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ª Objectï¼Œå¹¶ä¸”å¯¹è±¡çš„é»˜è®¤å€¼éƒ½æ˜¯ nullï¼ˆåŒ…æ‹¬æ•°å­—ï¼‰ã€‚
* Dart æ—¢å¯ä»¥æ”¯æŒ JITï¼ˆåŠ¨æ€ç¼–è¯‘ï¼‰ï¼Œä¹Ÿå¯ä»¥æ”¯æŒ AOTï¼ˆé™æ€ç¼–è¯‘ï¼‰ã€‚
* Dart æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œä½†æ˜¯ç”±äº Dart å¯ä»¥æ¨æ–­ç±»å‹ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æ”¯æŒåŠ¨æ€ç±»å‹ï¼Œä¾‹å¦‚ varã€dynamicã€‚
* Dart æœ‰å¼ºå¤§çš„å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›ã€‚

## Dart ç”¨æ³•
æˆ‘ä»¬æœ‰äº†å…¶ä»–è¯­è¨€çš„åŸºç¡€ï¼Œå­¦ä¹  Dart è¯­æ³•å¾ˆå¿«çš„ï¼Œçœ‹ä¸‹é¢çš„ä¸€æ®µä»£ç ï¼Œæ˜¾ç¤ºäº†å¾ˆå¤š Dart ç”¨æ³•ï¼š

```
// å¯¼å…¥åº“
import 'package:flutter/material.dart';

/**
 * å…¥å£å‡½æ•°
 */
void main() => runApp(MyApp());

/**
 * å®šä¹‰ä¸€ä¸ª MyApp Widget
 */
class MyApp extends StatelessWidget {

  var content = 'Dart è¯­æ³•'; // å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡
  String _name = "by å°å¾·";

  @override
  Widget build(BuildContext context) {

    print('display $content');

    // return a Widget
    return MaterialApp(
      title: "Flutter Demo",
      theme: ThemeData(
        primaryColor: Colors.blue,
      ),
      home: Scaffold(
          appBar: AppBar(title: Text("Flutter Dart è¯­æ³•")),
          body: Text(content+_name)
          ),
    );
  }
}
```

* `import`
    
    å¯¼å…¥åº“ã€‚

* æ³¨é‡Š

    æ³¨é‡Šï¼Œæœ‰ä¸¤ç§ï¼š
    
    | è¯­æ³• | å«ä¹‰ |
    | -- | -- |
    |  `/** .. **/` | å¤šè¡Œæ³¨é‡Š|
    |  `//` | å•è¡Œæ³¨é‡Š|
    
* `=>`

    Dart çš„ç®­å¤´è¯­æ³•ï¼Œå³ Lambda è¡¨è¾¾å¼ã€‚
* `class`

    Dart çš„ç±»ã€‚
* `extends`

    ç»§æ‰¿ã€‚
* `var`

    ä¸€ç§å£°æ˜å˜é‡è€Œä¸æŒ‡å®šå…¶ç±»å‹çš„æ–¹æ³•ã€‚
* ä»¥ä¸‹åˆ’çº¿ `_` å¼€å¤´çš„ç±»æˆ–æˆå‘˜å˜é‡æ˜¯ç§æœ‰çš„

    Dart æ²¡æœ‰ Publicã€Protectedã€Private çš„å…³é”®å­—ï¼Œåœ¨ Dart é‡Œï¼Œç±»æˆ–æˆå‘˜å˜é‡é»˜è®¤éƒ½æ˜¯ Public çš„ï¼Œä»¥ä¸‹åˆ’çº¿ `_` å¼€å¤´çš„å°±æ˜¯ç§æœ‰çš„ï¼Œä¾‹å¦‚æˆå‘˜å˜é‡ _name å°±æ˜¯ç§æœ‰çš„ã€‚
* `String`

    åœ¨å£°æ˜å˜é‡æ—¶ä¹Ÿå¯ä»¥æŒ‡å®šå…·ä½“ç±»å‹ï¼ŒString æ˜¯å­—ç¬¦ä¸²ï¼Œè¿˜æœ‰å…¶ä»–çš„æ•°æ®ç±»å‹ï¼šintã€doubleç­‰ã€‚
* `'...'` æˆ– `"..."`

    å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œç”¨å•å¼•å·æˆ–åŒå¼•å·éƒ½è¡Œã€‚
    
* `$variableName` æˆ– `${expression}`

    å­—ç¬¦ä¸²æ’å€¼ï¼šå°†å˜é‡çš„å€¼ç›´æ¥æ’å…¥å­—ç¬¦ä¸²ä¸­ã€‚



## å˜é‡å£°æ˜
ä»¥ä¸‹æ˜¯ Dart ä¸­æ‰€æœ‰å˜é‡å£°æ˜çš„æ–¹æ³•ï¼š
```
var content = 'Dart è¯­æ³•'; // Declare and initialize a variable.
var switchOn = false;
var current = 0;

String name = "by å°å¾·";
int count = 0;

dynamic example = 'example';

Object index = 100;
```
æ€»å…±æœ‰å››ç§ï¼š

1. `var`

    ```
    var content = 'Dart è¯­æ³•'; // Declare and initialize a variable.
    var switchOn = false;
    var current = 0;
    ```

    ä½¿ç”¨ `var` æ¥å£°æ˜å˜é‡ï¼Œä¸éœ€è¦ç‰¹åˆ«æŒ‡å®šå˜é‡çš„æ•°æ®ç±»å‹ï¼Œå› ä¸º Dart ä¼šè‡ªåŠ¨æ¨æ–­å…¶æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ `var` æ¥å®šä¹‰ä»»ä½•çš„å˜é‡ã€‚
    
    é—®é¢˜æ¥äº†ï¼Œ`var` ä¸ºä»€ä¹ˆèƒ½å®šä¹‰æ‰€æœ‰çš„å˜é‡ï¼Ÿ
    ```!
    å› ä¸º ï¼Œvar å¹¶ä¸æ˜¯ç›´æ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯å­˜å‚¨çš„å€¼çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼švar content = 'Dart è¯­æ³•' è¿™å¥ï¼Œæ˜¯åå­—ä¸º content çš„ var å˜é‡å­˜å‚¨äº†å€¼ä¸º 'Dart è¯­æ³•' çš„ String å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥ var æ‰èƒ½å®šä¹‰ä»»ä½•å˜é‡ã€‚
    ```
2. æ˜ç¡®æ•°æ®ç±»å‹

    ```
    String name = "by å°å¾·";
    int count = 0;
    ```
    å°±æ˜¯åœ¨å£°æ˜å˜é‡çš„æ—¶å€™ï¼Œä½¿ç”¨æ˜ç¡®çš„æ•°æ®ç±»å‹ã€‚
3. `dynamic`

    ```
    dynamic example = 'example';
    ```
    æ„æ€æ˜¯æ•°æ®ç±»å‹æ˜¯åŠ¨æ€å¯å˜çš„ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä»»ä½•å˜é‡ï¼Œä½†æ˜¯å’Œ `var` ä¸åŒçš„æ˜¯ï¼Œ`var` ä¸€æ—¦èµ‹å€¼åï¼Œå°±ä¸èƒ½æ”¹å˜æ•°æ®ç±»å‹äº†ï¼Œä¾‹å¦‚ä»¥ä¸‹ç”¨æ³•å°±æ˜¯é”™è¯¯çš„
    ```
    var content = 'Dart è¯­æ³•';
    content = 1; //âŒ é”™è¯¯çš„ä½¿ç”¨æ–¹æ³•ï¼Œcontentä¸ºStringï¼Œä¸èƒ½èµ‹å€¼æ•°å­—ç±»å‹
    ```
    
    ä½†æ˜¯ dynamic å°±å¯ä»¥ï¼Œdynamic å¯ä»¥è¿™ä¹ˆä½¿ç”¨ï¼š
    ```
    dynamic example = 'example';
    example = 1;//âœ…  è¿™ä¸ªä½¿ç”¨æ–¹æ³•æ­£ç¡®ï¼Œå› ä¸º dynamic çš„ç±»å‹æ˜¯åŠ¨æ€å¯å˜çš„
    ```
4. `Object`

    ```
    Object index = 100;
    ```
    
    Dart é‡Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ï¼Œæ˜¯å› ä¸º Dart çš„æ‰€æœ‰ä¸œè¥¿éƒ½ç»§æ‰¿è‡ª Objectï¼Œå› æ­¤ Object å¯ä»¥å®šä¹‰ä»»ä½•å˜é‡ï¼Œè€Œä¸”èµ‹å€¼åï¼Œç±»å‹ä¹Ÿå¯ä»¥æ›´æ”¹ï¼š
    ```
    Object index = 100;
    index = 'string';//âœ… å› ä¸º  'String' ä¹Ÿæ˜¯ Object
    ```

```!
æ³¨æ„ï¼šè¯·ä¸è¦æ»¥ç”¨ dynamicï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½å¯ä»¥ç”¨ Object ä»£æ›¿ dynamicã€‚
```

é‚£ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥ç”¨ `dynamic` å‘¢ï¼Ÿ

```!
å½“è¿™ä¸ªå˜é‡æ²¡æ³•ç”¨ Dart çš„ç±»å‹æ¥è¡¨ç¤ºæ—¶ï¼Œæ¯”å¦‚ Native å’Œ Flutter äº¤äº’ï¼Œä» Native ä¼ æ¥çš„æ•°æ®ã€‚æ‰€ä»¥ä½ ä¼šçœ‹åˆ° PlatformChannel é‡Œæœ‰å¾ˆå¤šåœ°æ–¹ä½¿ç”¨åˆ°äº† dynamicã€‚
```

#### å˜é‡ï¼š`final` å’Œ `const`
å¦‚æœä½ ä¸æƒ³æ›´æ”¹å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨ final å’Œ const:
```
final content = 'Dart è¯­æ³•'; 
static const bool switchOn = false;
```
ä½¿ç”¨æ—¶æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

* ä½¿ç”¨ `final` å’Œ `const` çš„æ—¶å€™å¯ä»¥æŠŠ `var` çœç•¥
* `final` å’Œ `const` å˜é‡åªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œè€Œä¸”åªèƒ½åœ¨å£°æ˜çš„æ—¶å€™å°±èµ‹å€¼
* `const` æ˜¯éšå¼çš„ `final`
* åœ¨ä½¿ç”¨ `const` çš„æ—¶å€™ï¼Œå¦‚æœå˜é‡æ˜¯ç±»é‡Œçš„å˜é‡ï¼Œå¿…é¡»åŠ  `static` ï¼Œæ˜¯å…¨å±€å˜é‡æ—¶ä¸éœ€è¦åŠ ,ä¾‹å¦‚:
    
    ```
    import 'package:flutter/material.dart';

    const demoConst = 'demo'; // è¿™é‡Œä¸ç”¨åŠ  static

    void main() => runApp(MyApp());

    class MyApp extends StatelessWidget {

        static content = 'Dart è¯­æ³•'; // è¿™é‡Œå¿…é¡»åŠ  static 
        ...
    }
    ```
    
é‚£ä¹ˆ `final` å’Œ `const` æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ
```!
const æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™å°±åˆå§‹åŒ–äº†ï¼Œä½†æ˜¯ final å˜é‡æ˜¯å½“ç±»åˆ›å»ºçš„æ—¶å€™æ‰åˆå§‹åŒ–ã€‚
```

## Dart æ”¯æŒçš„æ•°æ®ç±»å‹
Dart æ”¯æŒä»¥ä¸‹çš„æ•°æ®ç±»å‹ï¼š
| | å«ä¹‰ | ä½¿ç”¨ |
| -- | -- | -- |
| `int` | æ•´æ•°ï¼ŒèŒƒå›´ä¸º -2^63 åˆ° 2^63 - 1.| int x = 1;//æ²¡æœ‰å°æ•°ç‚¹å°±æ˜¯int |
| `double` | æµ®ç‚¹æ•°ï¼Œ64ä½ï¼ˆåŒç²¾åº¦ï¼‰æµ®ç‚¹æ•°| double y = 1.1;//æœ‰å°æ•°ç‚¹å°±æ˜¯æµ®ç‚¹æ•° |
| `num` | num æ˜¯æ•°å­—ç±»å‹ï¼Œæ—¢å¯ä»¥è¡¨ç¤ºæ•´æ•°ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œå…·ä½“çœ‹èµ‹çš„å€¼ | num x = 1;//num xæ˜¯æ•´æ•°<br>num y = 1.1;//num yæ˜¯æµ®ç‚¹æ•° |
| `String` | å­—ç¬¦ä¸²<br>Dartå­—ç¬¦ä¸²é‡‡ç”¨UTF-16ç¼–ç <br>å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·æ¥åˆ›å»ºå­—ç¬¦ä¸² |var s1 = 'string';<br> var s2 = "string";|
| `bool` | å¸ƒå°”å€¼ |var isTrue = true; |
| `List` | List\<E><br>E è¡¨ç¤º List é‡Œçš„æ•°æ®ç±»å‹<br>ç”¨ä¸­æ‹¬å·æ¥èµ‹å€¼ | List\<int> list = [1, 2, 3]; |
| `Set` | Set\<E><br>E è¡¨ç¤º Set é‡Œçš„æ•°æ®ç±»å‹<br>ç”¨å¤§æ‹¬å·æ¥èµ‹å€¼ |Set\<String> halogens = {'fluorine', 'chlorine', 'bromine', 'iodine', 'astatine'};|
| `Map` | Map<K, V> <br>K æ˜¯ Key çš„æ•°æ®ç±»å‹,Væ˜¯ Value çš„æ•°æ®ç±»å‹| Map<String,String> gifts = {<br>// Key:    Value æ ¼å¼<br>'first': 'partridge',<br>'second': 'turtledoves',<br>'fifth': 'golden rings'};|
| `Runes` | è¡¨ç¤ºé‡‡ç”¨ UTF-32 çš„å­—ç¬¦ä¸²ï¼Œç”¨äºæ˜¾ç¤º Unicode<br> å› ä¸ºDartå­—ç¬¦ä¸²æ˜¯UTF-16ï¼Œå› æ­¤åœ¨Dartä¸­è¡¨ç¤º32ä½çš„Unicodeå€¼éœ€è¦Runesè¿™ä¸ªç‰¹æ®Šè¯­æ³•ã€‚|Runes input = new Runes('\u{1f600}');<br>print(new String.fromCharCodes(input));<br>æ‰“å°å‡ºæ¥çš„æ˜¯ç¬‘è„¸emojiï¼šğŸ˜†  |

## å‡½æ•°
åœ¨ Dart ä¸­å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå‡½æ•°çš„ç±»å‹æ˜¯ `Function`ã€‚

#### å†™ä¸€ä¸ªå‡½æ•°
   
å‡½æ•°æŒ‰ç…§å¦‚ä¸‹çš„æ ¼å¼æ¥å†™ï¼š
```
è¿”å›ç±»å‹ å‡½æ•°å(å‡½æ•°å‚æ•°){
    
}
```
è¿™é‡Œå†™ä¸€ä¸ªåå­—ä¸º say çš„å‡½æ•°ï¼š
```
bool say(String msg , String from, int clock){
  print(msg+" from " + from + " at " + clock?.toString());
  return true;
}
```

#### å‡½æ•°çš„ç±»å‹ï¼š`Function`
ä¸Šé¢å†™äº†ä¸€ä¸ªå‡½æ•° sayï¼Œå†™å‡ºå¦‚ä¸‹çš„ä»£ç ï¼Œåˆ¤æ–­å‡½æ•° say çš„ç±»å‹æ˜¯ä¸æ˜¯ `Function`ï¼š
```
print(say is Function);
```
è¾“å‡ºçš„æ˜¯ trueã€‚

è€Œä¸”è¯·æ³¨æ„ï¼Œè¿™é‡Œåœ¨åˆ¤æ–­å‡½æ•°çš„ç±»å‹çš„æ—¶å€™ï¼Œç›´æ¥ç”¨çš„æ˜¯å‡½æ•°çš„åå­—ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°çš„åå­—å°±åƒå˜é‡åä¸€æ ·å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œå½“ç›´æ¥ç”¨å‡½æ•°åæ¥ä½¿ç”¨æ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ç±»å‹æ˜¯ Functionï¼Œè¦è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„è¯ï¼Œå°±éœ€è¦ä¼ å…¥å‚æ•°æ¥ä½¿ç”¨ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨å‡½æ•°çš„æ–¹æ³•ï¼š
```
say('Hello Flutter'ï¼Œ'XiaoDe',10);
```


#### å‡½æ•°çš„å‚æ•°ï¼šå¿…é€‰å‚æ•°å’Œå¯é€‰å‚æ•°

å‡½æ•°çš„å‚æ•°åˆ†ä¸ºä¸¤ç±»ï¼š
1. å¿…é€‰å‚æ•°
2. å¯é€‰å‚æ•°
 
å¿…é€‰å‚æ•°æ˜¯å¿…å¡«çš„ï¼Œå¯é€‰å‚æ•°æ˜¯é€‰å¡«çš„ã€‚
    
é‚£å¦‚ä½•çŸ¥é“å‚æ•°æ˜¯å¿…é€‰çš„è¿˜æ˜¯å¯é€‰çš„å‘¢ï¼Ÿ
```!
é¦–å…ˆå¿…é€‰å‚æ•°åœ¨å‰é¢ï¼Œå’Œæ™®é€šçš„å‚æ•°å®šä¹‰ä¸€æ ·ï¼Œåé¢è·Ÿå¯é€‰å‚æ•°ï¼Œå¯é€‰å‚æ•°éœ€è¦ç”¨ {} æˆ–è€… [] åŒ…èµ·æ¥ï¼Œç”¨ä¸åŒçš„æ‹¬å·ï¼Œå¯é€‰å‚æ•°çš„æ„ä¹‰ä¸ç”¨æ³•ä¹Ÿä¸ä¸€æ ·ã€‚
```
#### å¿…é€‰å‚æ•°
    
å¿…é€‰å‚æ•°å°±æ˜¯ä½¿ç”¨å¹³å¸¸çš„æ–¹æ³•å®šä¹‰çš„å‡½æ•°å‚æ•°ï¼Œå¦‚ä¸‹é¢çš„å‡½æ•°ï¼š
```
bool say(String msg , String from, int clock){
    print(msg+" from " + from + " at " + clock?.toString());
    return true;
}
```
say å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼šmsgã€fromã€clockï¼Œè¿™ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯å¿…é€‰å‚æ•°ã€‚
    
```!
å¿…é€‰å‚æ•°å¿…é¡»åœ¨å¯é€‰å‚æ•°çš„å‰é¢ã€‚
```
#### å¯é€‰å‚æ•°

å¯é€‰å‚æ•°ä¹Ÿåˆ†ä¸ºä¸¤ç±»ï¼š
    
1. **å¯é€‰å‘½åå‚æ•°**ï¼šä½¿ç”¨ `{}` åŒ…èµ·æ¥çš„å‚æ•°æ˜¯å¯é€‰å‘½åå‚æ•°
2. **å¯é€‰ä½ç½®å‚æ•°**ï¼šä½¿ç”¨ `[]` åŒ…èµ·æ¥çš„å‚æ•°æ˜¯å¯é€‰ä½ç½®å‚æ•°
    
* å¯é€‰å‘½åå‚æ•°ï¼š`{}`
    
    ç”¨ `{}` åŒ…èµ·æ¥çš„å‚æ•°æ˜¯**å¯é€‰å‘½åå‚æ•°**ï¼Œå‰é¢è®²æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œä½¿ç”¨ `{}` æ¥èµ‹å€¼çš„æ•°æ®ç±»å‹æ˜¯ Mapï¼Œæ‰€ä»¥å¯é€‰çš„å‘½åå‚æ•°çš„ç±»å‹ä¹Ÿæ˜¯ Mapï¼Œ å› æ­¤è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯é€‰å‚æ•°çš„èµ‹å€¼å¿…é¡»æ˜¯ `paramName: value` è¿™ç§ `key: value` æ ¼å¼çš„ï¼Œä¸‹é¢æ˜¯å¯é€‰å‘½åå‚æ•°çš„ä¾‹å­ï¼š
    ```
    bool say(String msg , {String from, int clock}){
        print(msg+" from " + from + " at " + clock.toString());
        return true;
    }
    ```
    è¿™é‡Œå‚æ•° `from` å°±æ˜¯å¯é€‰å‘½åå‚æ•°ã€‚
        
    è¦è°ƒç”¨ `say` å‡½æ•°ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š
    ```
    say('Hello Flutter');//âœ… å› ä¸º from å’Œ clock æ˜¯å¯é€‰å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä¸å¡«
        
    say('Hello Flutter',from: 'XiaoMing');//å¯¹ ç”¨å‘½åå‚æ•°æ ¼å¼ paramName: value ä¸º from èµ‹å€¼
    say('Hello Flutter',clock: 11);//âœ…
    say('Hello Flutter',from: 'XiaoMing',clock: 11);//âœ…
    ```
        
    åŒæ—¶è¿˜å¯ä»¥ç»™å‘½åå‚æ•°åŠ  `@required` ï¼Œæ„æ€æ˜¯è¿™ä¸ªä¹Ÿæ˜¯å¿…å¡«å‚æ•°ï¼Œä¾‹å­å¦‚ä¸‹ï¼š
    ```
    bool say(String msg , {@required String from, int clock}){
        print(msg+" from " + from + " at " + clock.toString());
        return true;
        }
    ```
    è¿™æ—¶å€™è¦è°ƒç”¨ `say` å‡½æ•°ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š
    ```
    say('Hello Flutter');//âŒ  é”™è¯¯è°ƒç”¨æ–¹å¼ï¼Œå› ä¸º from æ˜¯å¿…é€‰å‚æ•°ï¼Œä¸å¡«çš„è¯ä¼šæŠ¥é”™
        
    say('Hello Flutter',from: 'XiaoMing');//âœ… æ­£ç¡®è°ƒç”¨æ–¹å¼
    say('Hello Flutter',from: 'XiaoMing',clock: 11);//âœ… è¿™ä¸ªè°ƒç”¨æ–¹å¼ä¹Ÿæ˜¯æ­£ç¡®çš„
    ```
* å¯é€‰ä½ç½®å‚æ•°ï¼š`[]`
    
    ç”¨ `[]` åŒ…èµ·æ¥çš„å‚æ•°æ˜¯**å¯é€‰ä½ç½®å‚æ•°**ï¼Œå‰é¢è®²æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œä½¿ç”¨ `[]` æ¥èµ‹å€¼çš„æ•°æ®ç±»å‹æ˜¯ Listï¼Œæ‰€ä»¥å¯é€‰çš„å‘½åå‚æ•°çš„ç±»å‹ä¹Ÿæ˜¯ Listï¼Œæ‰€ä»¥èµ‹å€¼å’Œå‚æ•°æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¸‹é¢æ˜¯å¯é€‰ä½ç½®å‚æ•°çš„ä¾‹å­ï¼š
    ```
    bool say(String msg , [String from , int clock]){
        print(msg+" from " + from + " at " + clock.toString());
        return true;
    }
    ```
    è¦ç»™å¯é€‰ä½ç½®å‚æ•°èµ‹å€¼æ—¶ï¼Œå¿…é€‰æŒ‰ç…§é¡ºåºæ¥èµ‹å€¼ï¼š
    ```
    say('Hello Flutter');//âœ… å› ä¸º from å’Œ clock æ˜¯å¯é€‰å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä¸å¡«
        
    say('Hello Flutter','XiaoMing',1);//âœ… ä¸ºå¯é€‰ä½ç½®å‚æ•°èµ‹å€¼ï¼Œåªèƒ½ä¸€ä¸ªå‚æ•°ä¸€ä¸ªå‚æ•°å¯¹åº”çš„èµ‹å€¼ï¼Œæ‰€ä»¥è¦å…¨éƒ¨èµ‹å€¼
        
    say('Hello Flutter','XiaoMing')//âœ…
    say('Hello Flutter',1)//âŒ å› ä¸º  1 èµ‹å€¼ç»™äº† from,ä½†æ˜¯ from æ˜¯Stringï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
    ```

#### å¯é€‰å‚æ•°çš„é»˜è®¤å€¼ ï¼š`=`
    
å› ä¸ºå‚æ•°æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆå‚æ•°çš„å€¼å¾ˆå¯èƒ½æ²¡æœ‰èµ‹å€¼ï¼Œå°±æ˜¯ null ï¼Œç”¨åˆ°çš„æ—¶å€™å°±æœ‰å¯èƒ½ä¼šè§¦å‘ NPEï¼Œæ‰€ä»¥å¯ä»¥ç»™å¯é€‰å‚æ•°èµ‹é»˜è®¤å€¼ã€‚
    
ä½¿ç”¨ `=` ä¸ºå¯é€‰å‚æ•°èµ‹é»˜è®¤å€¼
```
    bool say(String msg , {String from = 'empty', int clock = 0}){
        print(msg+" from " + from + " at " + clock.toString());
        return true;
    }
```

## `=>` ï¼šç®­å¤´è¯­æ³•

`=>` è¯­æ³•æ˜¯ `{ return expr; }` çš„ç®€å†™ï¼Œå› ä¸º `=>` é…·ä¼¼ç®­å¤´ï¼Œä¹Ÿç§°ç®­å¤´è¯­æ³•,ä¹Ÿæ˜¯ Lambda è¡¨è¾¾å¼ã€‚
    
```!
=> è¯­å¥åé¢åªèƒ½è·Ÿä¸€è¡Œä»£ç ï¼Œè€Œä¸”è¿™ä¸€è¡Œä»£ç åªèƒ½ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œä¸èƒ½è·Ÿè¯­å¥ã€‚è¡¨è¾¾å¼å¯ä»¥æ˜¯å‡½æ•°ã€å€¼ã€‚
```
    
ä¾‹å¦‚ï¼Œmain() å‡½æ•°è¿™é‡Œ:
```
void main() => runApp(MyApp());
```
å°±ç­‰ä»·äºï¼š
```
void main(){
    return runApp(MyApp());//runApp() è¿”å›çš„æ˜¯ void
}
```

## ç±»
Dart ä¸­æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ª Objectã€‚

#### è‡ªå®šä¸€ä¸ªç±»

å¦‚ä¸‹ï¼Œæˆ‘å®šä¹‰ä¸€ä¸ªç±» Pointï¼š
```
class Point {
  num x, y;

  Point(num x, num y) {
    // There's a better way to do this, stay tuned.
    this.x = x;
    this.y = y;
  }
}
```

#### é»˜è®¤æ„é€ å‡½æ•°çš„å†™æ³•
é»˜è®¤çš„æ„é€ å‡½æ•°å°±æ˜¯ä½¿ç”¨ç±»åä½œä¸ºå‡½æ•°åçš„æ„é€ å‡½æ•°ï¼Œä¾‹å¦‚ä¸Šé¢å†™çš„ç±» Point çš„æ„é€ å‡½æ•°ï¼šPoint(num x,num y)

#### æ„é€ å‡½æ•°çš„è¯­æ³•ç³–
Dart é‡Œè¿˜æœ‰æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼Œå¯ä»¥å°†æ„é€ å‡½æ•°æ”¹é€ ä¸ºï¼š
```
Point(this.x, this.y);
```
è¿™æ · Point ç±»å°±å¯ä»¥ç®€åŒ–ä¸ºï¼š
```
class Point {
  num x,y;
  Point(this.x, this.y);
}
```
è¿™ä¸ªè¯­æ³•ç³–ä¼šç®€åŒ–æ„é€ å‡½æ•°çš„èµ‹å€¼æ“ä½œã€‚
    
#### Widget æ„é€ å‡½æ•°å‚æ•°é‡‡ç”¨çš„æ˜¯å¯é€‰å‘½åå‚æ•°

å› ä¸º Widget æ„é€ å‡½æ•°æœ‰å¾ˆå¤šå‚æ•°ï¼Œä¸ºäº†ä½¿ç”¨èµ·æ¥æ¸…æ™°ï¼ŒWidget æ„é€ å‡½æ•°çš„å‚æ•°é‡‡ç”¨çš„æ˜¯å¯é€‰å‘½åå‚æ•°ã€‚

åé¢ä¼šç»å¸¸ç”¨åˆ°ã€‚

#### åˆ›å»ºå®ä¾‹ï¼šä¸éœ€è¦ä½¿ç”¨ new 
```
Point point = Point(0,0);
```
åˆ›å»ºç±»å®ä¾‹çš„æ—¶å€™ï¼Œéƒ½è¦å†™ newï¼Œå…¶å®å¾ˆéº»çƒ¦çš„ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰å¿…è¦ï¼Œæ‰€ä»¥ Dart åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ä¸åœ¨éœ€è¦ä½¿ç”¨ new ã€‚
#### ä½¿ç”¨ç±»çš„å˜é‡
    
ä½¿ç”¨ç‚¹ `.` æ¥å¼•ç”¨å®ä¾‹å˜é‡æˆ–æ–¹æ³•ï¼š
```
print(p.x);
```

## æ“ä½œç¬¦
Dart ä¸­å®šä¹‰äº†å¾ˆå¤šçš„æ“ä½œç¬¦ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š
1. ç®—æœ¯è¿ç®—ç¬¦
2. æ¯”è¾ƒæ“ä½œç¬¦
3. ç±»å‹åˆ¤æ–­ç¬¦
4. èµ‹å€¼æ“ä½œç¬¦
5. é€»è¾‘è¿ç®—ç¬¦
6. æŒ‰ä½ä¸ç§»ä½è¿ç®—ç¬¦
7. æ¡ä»¶è¿ç®—ç¬¦
8. çº§è”æ“ä½œç¬¦
9. å…¶ä»–æ“ä½œç¬¦

#### 1. ç®—æœ¯è¿ç®—æ“ä½œç¬¦

ä¸‹é¢æ˜¯ Dart æ”¯æŒçš„å¸¸è§çš„ç®—æœ¯è¿ç®—æ“ä½œç¬¦ï¼š

| æ“ä½œç¬¦ | å«ä¹‰ | ä¾‹å­ |
| -- | -- | -- |
| `+` | åŠ  | var a = 2 + 3;|
| `-` | å‡ | var a = 2 - 3; |
| `-exper` | è´Ÿæ•° | var a = -1;|
| `*` | ä¹˜ | var a = 2 * 3;|
| `/` | é™¤ï¼Œç²¾ç¡®é™¤æ³• | var a = 5 / 2; // açš„ç»“æœä¸º 2.5 |
| `~/` | æ•´é™¤ | var a = 5 ~/ 2; // açš„ç»“æœä¸º 2 |
| `%` | å–ä½™ | var a = 5 % 2; // açš„ç»“æœä¸º 1 |
| `++var` | | var a = 1;<br>var b = ++a;// b çš„ç»“æœä¸º 2,a çš„ç»“æœä¸º 2|
| `var++` | | var a = 1;<br>var b = a++;// b çš„ç»“æœä¸º 1,a çš„ç»“æœä¸º 2|
| `--var` | | var a = 1;<br>var b = --a;// b çš„ç»“æœä¸º 0,a çš„ç»“æœä¸º 0|
| `var--` | | var a = 1;<br>var b = a--;// b çš„ç»“æœä¸º 1,a çš„ç»“æœä¸º 0|

#### 2.ç›¸ç­‰å’Œå¤§å°å…³ç³»æ“ä½œç¬¦

ä¸‹é¢æ˜¯ Dart æ”¯æŒçš„åˆ¤æ–­æ˜¯å¦ç›¸ç­‰å’Œå¤§å°å…³ç³»çš„æ“ä½œç¬¦ï¼š
| æ“ä½œç¬¦ | å«ä¹‰ | ä¾‹å­ |
| -- | -- | -- |
| `==` | æ˜¯å¦ç›¸ç­‰ | assert(2 == 2);|
| `!=`| ä¸ç­‰äº | assert(2 != 3); |
| `>` | å¤§äº | assert(3 > 2); |
| `<` | å°äº | assert(2 < 3); |
| `>=` | å¤§äºç­‰äº | assert(3 >= 3); |
| `<=` | å°äºç­‰äº | assert(3 <= 3); |

#### 3.ç±»å‹åˆ¤æ–­æ“ä½œç¬¦

ä¸‹é¢æ˜¯ Dart æ”¯æŒçš„æ£€æŸ¥è¿è¡Œæ—¶ç±»å‹çš„æ“ä½œç¬¦ï¼š
| æ“ä½œç¬¦ | å«ä¹‰ | ä¾‹å­ |
| -- | -- | -- |
| `as` | ç±»å‹è½¬æ¢ | (emp as Person).firstName = 'Bob';|
| `is` | åˆ¤æ–­æ˜¯å¦æ˜¯æŸä¸ªç±»å‹,å¦‚æœæ˜¯çš„è¯ï¼Œå°±è¿”å› true|if (emp is Person) {<br>// å¦‚æœ emp æ˜¯ Person ç±»å‹<br>emp.firstName ='Bob';<br>} | 
| `is!` | åˆ¤æ–­æ˜¯å¦ä¸æ˜¯æŸä¸ªç±»å‹ï¼Œå¦‚æœä¸æ˜¯çš„è¯ï¼Œå°±è¿”å› true|if (emp is! Person) {<br>// å¦‚æœ emp ä¸æ˜¯ Person ç±»å‹<br>} | 

```!
ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœ emp æ˜¯ null çš„è¯ï¼Œas çš„ä¾‹å­å°±ä¼šæŠ›å¼‚å¸¸ï¼Œis å’Œ isn't çš„ä¾‹å­ä¼šè¿”å› false.
```

#### 4.èµ‹å€¼æ“ä½œç¬¦
èµ‹å€¼æ“ä½œç¬¦æ˜¯ `=`ã€‚

å¦‚æœåªæƒ³å½“è¢«èµ‹å€¼çš„å˜é‡ä¸ºç©ºçš„æ—¶å€™æ‰èµ‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨`??=`,ä¾‹å¦‚ï¼š

```
var a,b;
a = 1; //ä½¿ç”¨ = èµ‹å€¼
b ??= 1; // å½“ b æ˜¯ç©ºçš„è¯æ‰èµ‹å€¼ï¼Œå¦åˆ™ä¸ä¼šèµ‹å€¼
```
`=` è¿˜å¯ä»¥å’Œå…¶ä»–æ“ä½œç¬¦ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚:
| `+=` | `-=` | `*=` | `/=` | `~/=` | `%=` |
| -- | -- | -- | -- | -- | -- |
| `>>=` | `<<=` | `^=` | `&=` | `|=` | `??=` |

è¿™äº›ç»„åˆèµ·æ¥çš„æ“ä½œç¬¦ï¼Œæ„æ€æ˜¯å…ˆè¿›è¡Œæ“ä½œï¼Œç„¶ååœ¨èµ‹å€¼ï¼Œä¾‹å¦‚ï¼š
| ç»„åˆæ“ä½œç¬¦ | ä¾‹å­ | 
| -- | -- |
| `+=` | a += b ; å°±ç­‰æ•ˆäº  a = a + b; |

#### 5.é€»è¾‘è¿ç®—æ“ä½œç¬¦
ä¸‹é¢æ˜¯ Dart æ”¯æŒçš„é€»è¾‘è¿ç®—æ“ä½œç¬¦ï¼š
| æ“ä½œç¬¦ | å«ä¹‰ | ä¾‹å­ |
| -- | -- | -- |
| `!expr` | åè½¬è¡¨è¾¾å¼ï¼ˆå°† false æ”¹ä¸º trueï¼Œåä¹‹äº¦ç„¶ï¼‰ | !(2 == 3);// ç»“æœä¸º true |
| `||` | é€»è¾‘æˆ– | (2 == 2) || (2 == 3);// ç»“æœä¸º true |
| `&&` | é€»è¾‘ä¸ | ï¼ˆ2 == 2ï¼‰&& (3 == 3);// ç»“æœä¸º true |

#### 6.æŒ‰ä½ä¸ç§»ä½è¿ç®—ç¬¦

ä¸‹é¢æ˜¯ Dart æ”¯æŒçš„æŒ‰ä½ä¸ç§»ä½è¿ç®—ç¬¦ï¼š
| æ“ä½œç¬¦ | å«ä¹‰ | ä¾‹å­ |
| -- | -- | -- |
| `&` | æŒ‰ä½ä¸<br>å¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½éƒ½æ˜¯1æ—¶ï¼Œç»“æœæ‰ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ | final value = 0x22;<br>final bitmask = 0x0f;<br>var result = value & bitmask;//ç»“æœä¸º 0x02|
| `|` | æŒ‰ä½æˆ–ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½è‡³å°‘æœ‰ä¸€ä¸ª1æ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ | final value = 0x22;<br>final bitmask = 0x0f;<br>var result = value | bitmask;//ç»“æœä¸º 0x2f|
| `^` | æŒ‰ä½å¼‚æˆ–ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½æœ‰ä¸”åªæœ‰ä¸€ä¸ª1æ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ |final value = 0x22;<br>final bitmask = 0x0f;<br>var result = value ^ bitmask;//ç»“æœä¸º 0x2d |
| `~expr` | æŒ‰ä½éï¼Œåè½¬æ“ä½œæ•°çš„æ¯”ç‰¹ä½ï¼Œå³0å˜æˆ1ï¼Œ1å˜æˆ0ã€‚ | final value = 0x22;<br>final bitmask = 0x0f;<br>var result = value &  ~bitmask;//ç»“æœä¸º 0x20 |
| `<<` | å·¦ç§» | final value = 0x22;<br>final bitmask = 0x0f;<br>var result = value << 4;//ç»“æœä¸º 0x220 |
| `>>` | å³ç§» | final bitmask = 0x0f;<br>var result = value >> 4;//ç»“æœä¸º 0x02 |

#### 7.æ¡ä»¶è¿ç®—ç¬¦
Dart æœ‰ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œå¯ä»¥è®©æ‚¨ä½¿ç”¨æ›´ç®€å•çš„è¡¨è¾¾å¼æ¥ä»£æ›¿å¯èƒ½éœ€è¦ if-else è¯­å¥çš„è¡¨è¾¾å¼ï¼š

1. `condition ? expr1 : expr2`

    å¦‚æœ condition æ˜¯ trueï¼Œè¿”å› expr1ï¼Œå¦åˆ™è¿”å› expr2ã€‚
    
    å½“ä½ éœ€è¦æ ¹æ®ä¸€ä¸ª boolean è¡¨è¾¾å¼æ¥èµ‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `? :`,ä¾‹å¦‚ï¼š
    
    ```
    var visibility = isPublic ? 'public' : 'private';
    ```

2. `expr1 ?? expr2`

    å¦‚æœ expr1 ä¸º nullï¼Œå°±è¿”å› expr2 çš„å€¼ï¼Œå¦åˆ™è¿”å› expr1 çš„å€¼ã€‚
    
    å¦‚æœéœ€è¦æ ¹æ®ä¸€ä¸ª boolean è¡¨è¾¾å¼æ˜¯å¦ä¸º null æ¥ä½œä¸ºæ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ `??`ï¼Œä¾‹å¦‚ï¼š
    
    ```
    String playerName(String name) => name ?? 'Guest';
    ```

#### 8.çº§è”æ“ä½œç¬¦

çº§è”æ“ä½œç¬¦æ˜¯ `..`,å…è®¸ä½ å¯¹åŒä¸€å¯¹è±¡è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œã€‚é™¤äº†å‡½æ•°è°ƒç”¨ï¼Œæ‚¨è¿˜å¯ä»¥è®¿é—®åŒä¸€å¯¹è±¡ä¸Šçš„å­—æ®µã€‚è¿™é€šå¸¸å¯ä»¥ä¸ºæ‚¨èŠ‚çœåˆ›å»ºä¸´æ—¶å˜é‡çš„æ­¥éª¤ï¼Œå¹¶å…è®¸æ‚¨ç¼–å†™æ›´å¤šæµç•…çš„ä»£ç ã€‚

ä¾‹å¦‚ï¼š
```
querySelector('#confirm') // Get an object.
  ..text = 'Confirm' // Use its members.
  ..classes.add('important')
  ..onClick.listen((e) => window.alert('Confirmed!'));
```

querySelector() è¿”å›ä¸€ä¸ª selector å¯¹è±¡ï¼Œåé¢çš„ `..text`ã€`..classes`ã€`..onClick`å°±æ˜¯åœ¨ selector å¯¹è±¡ä¸Šè¿›è¡Œçš„ã€‚

#### 9.å…¶ä»–æ“ä½œç¬¦

è¿˜æœ‰å…¶ä»–çš„æ“ä½œç¬¦ï¼š

| æ“ä½œç¬¦ | å«ä¹‰ | ä¾‹å­ |
| -- | -- | -- |
| `()` | å‡½æ•°è°ƒç”¨ | ä»£è¡¨å‡½æ•°è°ƒç”¨ |
| `[]` | è®¿é—®åˆ—è¡¨ | å¼•ç”¨åˆ—è¡¨ä¸­æŒ‡å®šç´¢å¼•å¤„çš„å€¼ |
| `.` | è®¿é—®æˆå‘˜å˜é‡ | è®¿é—®è¡¨è¾¾å¼é‡Œçš„æˆå‘˜å˜é‡ï¼Œä¾‹å¦‚ `foo.bar`,è¡¨ç¤ºè®¿é—® `foo` è¡¨è¾¾å¼é‡Œçš„ `bar` æˆå‘˜å˜é‡ |
| `?.` | æœ‰æ¡ä»¶çš„æˆå‘˜å˜é‡è®¿é—® | å¾ˆåƒ `.`ï¼Œä½†æ˜¯å·¦è¾¹çš„è¡¨è¾¾å¼å¯ä»¥ä¸º nullï¼Œä¾‹å¦‚ `foo?.bar`ï¼Œå¦‚æœ foo ä¸º nullï¼Œåˆ™ä¸ä¼šæŠ›å¼‚å¸¸ï¼Œè€Œæ˜¯è¿”å› nullï¼Œå¦‚æœ foo ä¸ä¸º nullï¼Œåˆ™å¯ä»¥è¿”å› bar  |


åœ¨è¯´ä¸€ä¸‹ Dart é‡Œå¾ˆå¥½ç”¨ä½†å®¹æ˜“ææ··çš„å‡ ä¸ªæ“ä½œç¬¦ï¼š`?.`ã€ `??` ã€`??=`

1. `?.`
    
    æƒ³è¦è®¿é—®è¡¨è¾¾å¼çš„æŸä¸ªå±æ€§æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªï¼Œå¯ä»¥æœ‰æ•ˆé¿å… NPEã€‚
    
    ä¾‹å¦‚ï¼š
    ```
    var yourName = user?.name;
    ```
    å°±ç­‰æ•ˆäºï¼š
    ```
    var yourName;
    if(user == null){
        yourName = null;
    }else{
        yourName = user.name;
    }
    ```
2. `??`
    
    åœ¨èµ‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `??`ï¼Œè‹¥å‘ç°ä¸ºç©ºï¼Œå¯ä»¥ä¸ºå…¶èµ‹é»˜è®¤å€¼ã€‚
    ä¾‹å¦‚:
    ```
    var yourName = name ?? "Bob";
    ```
    å°±æ˜¯åœ¨ä¸º yourName èµ‹å€¼æ—¶ï¼Œè‹¥ name æœ‰å€¼ï¼Œå°±ä½¿ç”¨ name çš„å€¼ï¼Œè‹¥ name ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ Bobï¼Œç­‰æ•ˆäºï¼š
    ```
    var yourName;
    if(name == null){
        yourName = "Bob";
    }else{
        yourName = name;
    }
    ```
    
3. `??=`
    
    `expr1 ??= expr2` ç­‰æ•ˆäº `expr1 = expr1 ?? expr2`
    å°±æ˜¯åˆ¤æ–­ expr1 æ˜¯å¦ä¸ºnullï¼Œå¦‚æœä¸ºnullçš„è¯ï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼ expr2ã€‚
    ä¾‹å¦‚ï¼š
    ```
    user ??= User();
    ```
    ç­‰æ•ˆäºï¼š
    ```
    if(user == null) {
        user = User();
    }
    ```
    
